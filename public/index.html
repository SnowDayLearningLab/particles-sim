<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> <!--manifest="formulat.manifest"-->
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
    <title>Particles!</title>
    <style type="text/css">
		html,body {
			background-color: #174ea8;
			color: #fff;
			font-family: helvetica, arial, sans-serif;
			margin: 0;
			padding: 0;
			font-size: 12pt;
		}
		td {
			width: 80px;
			text-align: center;
		}
		a:link {
			color: #fff;
			font-weight: bold;
			font-family: helvetica, arial, sans-serif;
			font-size: 11pt;
			text-decoration: none;
		}
		a:visited {
			color: #fff;
			font-weight: bold;
			font-family: helvetica, arial, sans-serif;
			font-size: 11pt;
			text-decoration: none;
		}
		a:hover {
			color: #ccc;
			font-weight: bold;
			font-family: helvetica, arial, sans-serif;
			font-size: 11pt;
			text-decoration: none;
		}
		
		#canvas {
			position: relative;
			left: 85px;
			right: 0;
			top: 0;
			bottom: 0;
			margin: auto;
			border: 1px solid #555;
			width: 855px;
			height: 585px;
			z-index: 1;
		}
		#rotate {
			position: absolute;
			left: 0px;
			top: 0px;
			display: none;
			z-index: 2;
		}
		.shortcut {
			background-color: #000;
			color: #fff;
			font-family: helvetica, arial, sans-serif;
			font-size: 10pt;
		}
	</style>
	
    <script type="text/JavaScript">
	var build = [0001, 6120, 2375, 6940, 9006, 1799, 1075, 2974,3708,8668,1948,2069,9042,9892,4652,7756,1353,1880,6399,8201,5793,4514,5376,9809,2144,5535,6490,3111,3296,7679,3143,5828,5160,4802,5677,5645,7076,3741,9278,8328,9089,6384,3562,5852,7371,3777,1392,9746,1740,8784,4542,4465,6787,5176,5568,2339,6064,4656,4886,8587,3723,8789,1063,4720,5109,7100,7818,4384,7400,6608,2205,1989,5353,7517,7490,1672,5250,9233,7578,2720,3312,6331,9463,6500,3490,5024,3095,7119,7658,2282,6126,4942,5694,1659,3884,3870,8496,9434,4047,1056,14919,44002189,17390,16878,44008319,16644,13013,16712,17118,10940,16948,17534,15011,44005157,44001599,10590,15008,16996,10357,44008200,14917,14465,16435,15004,44005852,16436,17868,16795,17057,16466,10278,14916,13970,16452,12840,44001609,44003627,44003601,16490,14921,44006673,44006000,16645,16484,15499];
	var premade = [0002, 8209,5275,1589,8568,8582,7473,1310,8895,6590,9774,2500,9265,3382,8325,6580,4622,9398,2985,5835,9833,8322,5113,6777,3392,2419,8921,4435,2635,5948,9004,8279,1960,3491,2254,1912,1323,9194,8336,1435,1350,4425,4442,9133,7270,4088,8098,5059,1998,1900,7828,2267,6609,5202,7010,7552,9143,3968,7395,4473,1548,9468,6456,6962,3939,3051,1060,3031,9541,7012,7030,2670,5343,7185,5480,7750,8490,9918,2461,8370,8654,1011,8208,3908,8679,5235,4521,1449,1565,3435,8440,4148,5281,5823,3459,3329,4343,9730,1454,5490,14997,16530,10903,10425,44004384,15127,44001251,17410,44007205,13292,44001439,17731,44004650,15180,44001326,16461,15952,16924,44006256,14879,17956,16465,14826,14829,12661,44005084,16464,15865,16212,44004509,17032,18002,44004380,44004744,14814,10866,44003346,16210,44004309,44007743,15154,10663,14955,17234,16647,14843];
	var condition;
	function clearFormAge() {
	    if (document.getElementById('age').defaultValue == document.getElementById('age').value) {
                document.getElementById('age').value = "";
            }
        }
        function clearFormID() {
            if (document.getElementById('idNum').defaultValue == document.getElementById('idNum').value) {
                document.getElementById('idNum').value = "";
            }
        }
	
	function initGame() {
	    var match = false;
	    age = document.getElementById("age").value;
	    idNum = document.getElementById("idNum").value;
	    //players = document.getElementById("players").value;
	    //condition = document.getElementById("condition").value;
	    for (var i=0; i<build.length; i++){
	    	if (idNum == build[i]){
	    		condition = "build";
	    		match = true;
	    		continue;
	    	}
	    	if (idNum == premade[i]){
	    		condition = "premade";
	    		match = true;
	    		continue;
	    	}
	    }
	    if (match) {
	    		localStorage.setItem("id", idNum);
				localStorage.setItem("age", age);
				localStorage.setItem("condition", condition);
				parent.location = 'sim.html';
	    	} else {
	    		alert("Wrong ID Number! Check your number and try again.")
	    	}

	 //    if (localStorage.length == 0 || localStorage.getItem(localStorage.getItem("age")) != age){
		// localStorage.clear();
		// //id = uniqid();
		// localStorage.setItem("id", idNum);
		// localStorage.setItem("age", age);
		// //sessionStorage.setItem("players", players);
		// sessionStorage.setItem("condition", condition);
	 //    }
	 //    parent.location = 'game.html';
	}
	
	function uniqid(){
	    var newDate = new Date;
	    return newDate.getTime();
	}
	
	function checkStorage() {
	    if (localStorage.length > 0){
		id = localStorage.getItem("id");
		age = localStorage.getItem("age");
		document.getElementById('age').value = localStorage.getItem("age");
	    }
	}
	
    </script>
    <script type="text/javascript">
    
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-33983674-1']);
      _gaq.push(['_trackPageview']);
    
      (function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    
    </script>
</head>
<body onload="checkStorage()">
    <div style="position: absolute; left: 110px; top: 50px; font-weight: bold; font-size: 30px">Welcome!</div>
    
    <div style="position: absolute; left: 70px; top: 160px; font-weight: bold; font-style: italic; font-size: 20px">
	<p>Enter your age and the</br>
	ID number you were given</br>
	when you entered class today, </br>
	and then press "Start Sim!"</br>
	to get started! </p>
    </div>
    
    <div style="position: absolute; left: 420px; top: 190px; font-weight: bold; font-size: 12px">
	<input type="text" id="age" name="age" value="Enter your age" onfocus="clearFormAge()"/></br>
	<input type="text" id="idNum" name="idNum" value="Enter your ID Number" onfocus="clearFormID()"/></br>
	<!-- <select name="players" id="players">
	    <option value="1" selected="selected">Solo</option>
	    <option value="2">With friends</option>
	</select>
	<select name="condition" id="condition">
	    <option value="build" selected="selected">Version 1</option>
	    <option value="premade">Version 2</option>
	</select> -->
    </div>
    
    <button id="start" name="start" type="button" onclick="initGame()" style="position: absolute; left: 420px; top: 265px; font-weight: bold; display:block;">Start Sim!</button>
    
    <div style="position: absolute; left: 50px; top: 320px; width: 500px; text-align: center; font-size: 12px; font-family: "Verdana", "Arial";">
	<p>Particles! is developed by Nathan Holbert, director of the <a href="http://www.snowdaylearninglab.org">Snow Day Learning Lab</a> at <a href="http://tc.columbia.edu">Teachers College, Columbia University</a>. We are interested in how people interact with the mechanics we have designed in this game. </p>
	<p>There are no risks to playing the game though you should feel free to stop playing at any point. You may however enjoy the game! If you do, feel free to play it as many times as you want. While your age and game play data will be used in studies exploring how people use Particles!, no data that could be used to identify you will be collected.</p>
	<p>If you have any questions about the study, feel free to contact Nathan Holbert at <a href="mailto:info@snowdaylearninglab.org">info@snowdaylearninglab.org</a>. Your participation is completely voluntary. If you choose to participate and have your gameplay tracked, please press the “Start Game” button above.</p>
	
    </div>
    
</body>
</html>
